<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Universe of Love | Ultra 3D</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: radial-gradient(circle at center, rgba(15,0,30,1) 0%, #000 100%);
            z-index: 100; transition: opacity 1.5s ease; pointer-events: none;
        }
        .title { color: #fff; font-weight: 100; letter-spacing: 12px; text-transform: uppercase; font-size: 1.4rem; text-align: center; margin-bottom: 18px; animation: glow 3s infinite alternate; }
        @keyframes glow { from { text-shadow: 0 0 10px #fff, 0 0 20px #ff00ff; } to { text-shadow: 0 0 20px #fff, 0 0 40px #00ffff; } }
        .loading-text { color: #00ffff; font-size: 0.6rem; letter-spacing: 4px; text-transform: uppercase; margin-top: 15px; opacity: 0.8; }
        .bar-container { width: 180px; height: 1px; background: rgba(255,255,255,0.1); position: relative; overflow: hidden; }
        .bar { position: absolute; top: 0; left: 0; height: 100%; background: #00ffff; width: 0%; transition: width 0.4s; box-shadow: 0 0 10px #00ffff; }

        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; }

        .tap-hint { position: fixed; bottom: 40px; width: 100%; text-align: center; color: rgba(255,255,255,0.3); font-size: 0.6rem; letter-spacing: 3px; text-transform: uppercase; z-index: 50; }

        .love-text {
            position: fixed;
            top: 14px;
            width: 100%;
            text-align: center;
            color: rgba(255,255,255,0.85);
            font-size: 0.75rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            z-index: 60;
            text-shadow: 0 0 10px rgba(255,0,153,0.6), 0 0 20px rgba(0,255,255,0.4);
            pointer-events: none;
        }

        .audio-toggle {
            position: fixed;
            right: 14px;
            bottom: 14px;
            z-index: 70;
            background: rgba(0,0,0,0.45);
            border: 1px solid rgba(255,255,255,0.2);
            color: #fff;
            font-size: 0.65rem;
            letter-spacing: 2px;
            padding: 10px 12px;
            border-radius: 999px;
            text-transform: uppercase;
            backdrop-filter: blur(4px);
        }

        .falling-star {
            position: fixed;
            top: -40px;
            color: rgba(255,255,255,0.9);
            font-size: 0.8rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            text-shadow: 0 0 12px rgba(255,0,153,0.7), 0 0 24px rgba(0,255,255,0.6);
            pointer-events: none;
            z-index: 65;
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <div id="overlay">
        <div class="title">Every Universe</div>
        <div class="bar-container"><div class="bar" id="progress-bar"></div></div>
        <div class="loading-text" id="status-text">Creating Galaxy...</div>
    </div>

    <div class="love-text">I love you Kajal</div>
    <div class="tap-hint">Touch to Rotate â€¢ Pinch to Fly</div>
    <button class="audio-toggle" id="audio-btn">Play Music</button>
    <div id="canvas-container"></div>

    <!-- Audio -->
    <audio id="bgm" src="./1.mp3" preload="auto" loop></audio>

    <!-- ES Module Shims -->
    <script async src="https://unpkg.com/es-module-shims@1.8.0/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
    }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
        import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';

        let scene, camera, renderer, composer, controls, starField, photoGroup, core;
        const clock = new THREE.Clock();
        const photoCount = 60; // repeat images for infinite feel
        let loadedCount = 0;

        const photoUrls = [
            './1.jpg','./2.jpg','./3.jpg','./4.jpg','./5.jpg',
            './6.jpg','./7.jpg','./8.jpg','./9.jpg','./10.jpg'
        ];

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 3000);
            camera.position.set(0, 0, 400);

            renderer = new THREE.WebGLRenderer({ antialias: false, powerPreference: "high-performance" });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.toneMapping = THREE.ReinhardToneMapping;
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.3;

            const renderScene = new RenderPass(scene, camera);
            const bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
            bloomPass.threshold = 0.15;
            bloomPass.strength = 1.2;
            bloomPass.radius = 0.9;

            composer = new EffectComposer(renderer);
            composer.addPass(renderScene);
            composer.addPass(bloomPass);

            setupGalaxy();
            animate();
            window.addEventListener('resize', onResize);
        }

        function checkProgress() {
            loadedCount++;
            const bar = document.getElementById('progress-bar');
            bar.style.width = (loadedCount / photoCount * 100) + '%';
            if (loadedCount >= photoCount) {
                setTimeout(() => document.getElementById('overlay').style.opacity = '0', 800);
                setTimeout(() => document.getElementById('overlay').style.display = 'none', 2300);
            }
        }

        function setupGalaxy() {
            const starGeo = new THREE.BufferGeometry();
            const starPos = [];
            const starCols = [];
            for (let i = 0; i < 15000; i++) {
                const r = 100 + Math.random() * 800;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                starPos.push(r * Math.sin(phi) * Math.cos(theta), r * Math.sin(phi) * Math.sin(theta), r * Math.cos(phi));
                const b = 0.6 + Math.random() * 0.4;
                starCols.push(b, b * 0.9, 1.0);
            }
            starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos, 3));
            starGeo.setAttribute('color', new THREE.Float32BufferAttribute(starCols, 3));
            starField = new THREE.Points(starGeo, new THREE.PointsMaterial({
                size: 1.2,
                vertexColors: true,
                blending: THREE.AdditiveBlending,
                transparent: true,
                opacity: 0.8
            }));
            scene.add(starField);

            core = new THREE.Mesh(
                new THREE.IcosahedronGeometry(40, 3),
                new THREE.MeshBasicMaterial({ color: 0xff0066, wireframe: true, transparent: true, opacity: 0.4 })
            );
            const inner = new THREE.Mesh(
                new THREE.SphereGeometry(30, 32, 32),
                new THREE.MeshBasicMaterial({ color: 0xffffff })
            );
            core.add(inner);
            scene.add(core);

            photoGroup = new THREE.Group();
            scene.add(photoGroup);

            const loader = new THREE.TextureLoader();
            for (let i = 0; i < photoCount; i++) {
                const url = photoUrls[i % photoUrls.length];
                loader.load(
                    url,
                    (tex) => {
                        const plane = new THREE.Mesh(
                            new THREE.PlaneGeometry(40, 40),
                            new THREE.MeshBasicMaterial({
                                map: tex,
                                transparent: true,
                                opacity: 1,
                                side: THREE.DoubleSide,
                                color: 0x777777 // darken photos
                            })
                        );
                        const phi = Math.acos(-1 + (2 * i) / photoCount);
                        const theta = Math.sqrt(photoCount * Math.PI) * phi;
                        const r = 220 + Math.random() * 30;
                        plane.position.set(r * Math.cos(theta) * Math.sin(phi), r * Math.sin(theta) * Math.sin(phi), r * Math.cos(phi));
                        photoGroup.add(plane);
                        checkProgress();
                    },
                    undefined,
                    () => checkProgress()
                );
            }
        }

        function onResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            composer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();
            controls.update();
            starField.rotation.y += 0.0003;
            photoGroup.rotation.y -= 0.0005;
            core.rotation.y += 0.01;
            const s = 1 + Math.sin(time * 2) * 0.1;
            core.scale.set(s, s, s);

            if (photoGroup.children.length > 0) {
                photoGroup.children.forEach((p, i) => {
                    p.position.y += Math.sin(time + i) * 0.04;
                    p.quaternion.copy(camera.quaternion);
                });
            }
            composer.render();
        }

        // Audio
        const audio = document.getElementById('bgm');
        const btn = document.getElementById('audio-btn');
        let audioStarted = false;

        async function toggleAudio() {
            try {
                if (!audioStarted) {
                    await audio.play();
                    audioStarted = true;
                    btn.textContent = 'Pause Music';
                } else if (audio.paused) {
                    await audio.play();
                    btn.textContent = 'Pause Music';
                } else {
                    audio.pause();
                    btn.textContent = 'Play Music';
                }
            } catch (e) {
                btn.textContent = 'Tap Again';
            }
        }

        btn.addEventListener('click', toggleAudio);
        window.addEventListener('pointerdown', () => {
            if (!audioStarted) toggleAudio(); // music begins when she enters (first tap)
        }, { once: true });

        // Falling star text every 2s
        function spawnFallingStar() {
            const el = document.createElement('div');
            el.className = 'falling-star';
            el.textContent = 'I love you Kajal';
            document.body.appendChild(el);

            const startX = Math.random() * window.innerWidth;
            const drift = (Math.random() * 240) - 120;
            el.style.left = `${startX}px`;

            const anim = el.animate([
                { transform: 'translate3d(0,-40px,0) rotate(-10deg)', opacity: 0 },
                { opacity: 1, offset: 0.15 },
                { transform: `translate3d(${drift}px, ${window.innerHeight + 80}px,0) rotate(10deg)`, opacity: 0 }
            ], { duration: 2400, easing: 'linear' });

            anim.onfinish = () => el.remove();
        }
        setInterval(spawnFallingStar, 2000);

        try { init(); } catch (e) {
            console.error(e);
            document.getElementById('status-text').innerText = "Device Not Supported";
        }
    </script>
</body>
</html>
If you want the photos darker or brighter, just tell me the level (I can change color: 0x777777).

Agent is ready
